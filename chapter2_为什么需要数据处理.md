# chapter 2 为什么需要数据处理
## 为什么进行数据处理：
+ 不完整
+ 有噪声
+ 数据不一致

1、数据预处理将是构建数据仓库或者数据挖掘的工作中占工作量最大的一个步骤。
2、数据质量的多维度量：精确性、完整度、一致性、合乎时机、可信度、附加价值、可解释性。
3、数据预处理的主要任务：
+ 数据清理：平滑噪声，识别、删除孤立点，解决数据的不一致性
+ 数据集成：集成多个数据库，数据立方体或文件
+ 数据变换：规范化和聚集
+ 数据归约：得到数据集的压缩表示
+ 数据离散化：通过概念分层和数据的离散化来规约数据，对数字型数据特别重要

## 描述性数据汇总：
1、	动机：为了更好理解数据。
2、	度量分类：分布式分类、代数分类、整体度量。
3、	度量中心趋势：
+ 算术平均值
+ 加权限
+ 算数平均
+ 截断均值(trimmed mean)：去掉高、低极端值得到的均值
+ 中位数：*有序集*的中间值
+ 众数（模）：集合中出现频率最高的值
4、	度量数据的离散度：
+ 四分位数给出数据分布的中心
1、四分位数：用3个点把数据的有序集分成4等份，25%，50%，75%，显然50%的点即为中位数，25%称为下四分位数，75%称为上四分位数。
2、IQR = Q3-Q1，即上四分位数与下四分位数之间的差
3、孤立点：至少高于第三个四分位数或低于第一个四分位数1。5\*IQR处的值。
4、最大/最小观测值，即Q3+1.5IQR/Q1-1.5IQR.
+ 盒图
1、5点确定一个盒图：最大观测值，最小观测值，三个四分位数。四分位数组成盒，中位数Q2为分隔，最大最小观测值和Q1,Q3分别组成胡须。
+ 方差和标准差


5、常用的显示数据汇总和分布方法：
+ 直方图
+ 分位数图
+ q-q图
+ 散布图
+ 局部回归曲线（loess local regression，局部回归）：为散布图添加一条平滑的曲线，以便更好地观察两个变量之间的依赖模式。

## 数据清理
1、数据清理任务：

+ 填写空缺的值
+ 识别离群点的平滑噪声数据
+ 纠正不一致的数据
+ 解决数据集成造成的冗余。


2、如何处理空缺值：忽略元组、人工填写空缺值、使用一个全局变量填充空缺值、使用属性的平均值填充空缺值、适用于给定元组属同一类的所有样本的平均值、使用最可能的值填充空缺值（使用像Bayesian或判定树这样的基于判断方法）。
3、噪声数据：一个测量变量中的随机错误或偏差。如何让处理噪声数据：
+ 分箱（对数据进行大的区间划分）
1、平滑：对分箱后每个区间的数字进行统一取值，如箱平均值，箱边界平滑。
+ 回归
+ 聚类
+ 计算机和人工检相结合。
4、数据清理过程：偏差检测（数据清理工具、数据审计工具）、数据变换（纠正偏差）、偏差检测和数据变换的迭代执行。

## 数据集成和变换
1、数据集成：将多个数据源中的数据整合到一个一致的存储中。

+ 集成时出现的冗余数据，通过相关分析检测到
+ 相关性分析：例如*X^2^*测试(chi-square)，卡方测试
$$
\chi^2 = \sum \frac{(Observed-Expected)^2}{Expected}
$$
2、数据变换将数据转换或统一成合适的挖掘形式：平滑、聚集、数据泛化、规范化、属性构造。
3、规范化：
+ 最小-最大规范化(将数据与最大最小值进行处理，使其映射到[0,1]之间)
$$
x^* = \frac{x-min}{max-min}
$$
+ z-score规范化（又称标准差规范化），求出均值和方差后可使用，是最常用的方法
$$
x^* = \frac{x-mean}{standard}
$$
+ 小数定标规范化，移动小数点，使所有数映射到[-1,1]之间

## 数据归约
1、数据归约：数据立方体规约、维归约、数据压缩、数值规约、离散化和概念分层产生。
2、有参方法、无参方法。
数据压缩：字符串压缩（无损）、音频视频压缩（有损）、小波变换、主要成分分析（有损）。
## 离散化和概念分层生成
1、离散化：三种类型属性值：名称型、序数、连续值。通过将属性域划分为区间，减少给定连续属性值的个数，区间的标号可以代替实际的数据值。离散化可以在一个属性上递归的进行。
2、概念分层：用高层概念代替底层属性值。所需存储空间少、有效减少I/O支出。
3、典型方法：分箱、直方图分析、聚类分析、基于熵的离散化、通过自然划分分段（3-4-5规则）。